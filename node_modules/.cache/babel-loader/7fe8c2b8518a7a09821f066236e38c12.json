{"ast":null,"code":"import { Connection } from './connectionApi';\n\nconst nodemailer = require(\"nodemailer\");\n\nexport async function login(data) {\n  const db = Connection();\n  const res = await db.collection('user').findOne({\n    password: data.password,\n    user_email: data.user_email\n  });\n  console.log(\"Found docs\", res);\n  return res;\n} // async..await is not allowed in global scope, must use a wrapper\n\nexport async function sendmail() {\n  // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  let testAccount = await nodemailer.createTestAccount(); // create reusable transporter object using the default SMTP transport\n\n  let transporter = nodemailer.createTransport({\n    service: \"Gmail\",\n    auth: {\n      user: \"arjunsinghrawatmca18@gmail.com\",\n      pass: \"09007801\"\n    }\n  }); // send mail with defined transport object\n\n  let info = await transporter.sendMail({\n    to: \"rawat4arjuna@gmail.com\",\n    // list of receivers\n    subject: \"Hello ✔\",\n    // Subject line\n    text: \"Hello world?\",\n    // plain text body\n    html: \"<b>Hello world?</b>\" // html body\n\n  });\n  console.log(\"Message sent: %s\", info.messageId); // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n  // Preview only available when sending through an Ethereal account\n\n  console.log(\"Preview URL: %s\", nodemailer.getTestMessageUrl(info)); // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...\n}","map":{"version":3,"sources":["/home/arjuna/Desktop/Untitled Folder/internship-project/src/api/loginApi.js"],"names":["Connection","nodemailer","require","login","data","db","res","collection","findOne","password","user_email","console","log","sendmail","testAccount","createTestAccount","transporter","createTransport","service","auth","user","pass","info","sendMail","to","subject","text","html","messageId","getTestMessageUrl"],"mappings":"AAAA,SAAQA,UAAR,QAAyB,iBAAzB;;AACA,MAAMC,UAAU,GAAGC,OAAO,CAAC,YAAD,CAA1B;;AAEA,OAAQ,eAAeC,KAAf,CAAsBC,IAAtB,EACR;AACA,QAAMC,EAAE,GAAEL,UAAU,EAApB;AACA,QAAMM,GAAG,GAAG,MAAMD,EAAE,CAACE,UAAH,CAAc,MAAd,EAAsBC,OAAtB,CAA8B;AAACC,IAAAA,QAAQ,EAAEL,IAAI,CAACK,QAAhB;AAAyBC,IAAAA,UAAU,EAAEN,IAAI,CAACM;AAA1C,GAA9B,CAAlB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBN,GAAzB;AACA,SAAOA,GAAP;AACC,C,CAID;;AACA,OAAO,eAAeO,QAAf,GAA0B;AAC/B;AACA;AACA,MAAIC,WAAW,GAAG,MAAMb,UAAU,CAACc,iBAAX,EAAxB,CAH+B,CAK/B;;AACA,MAAIC,WAAW,GAAGf,UAAU,CAACgB,eAAX,CAA2B;AAC3CC,IAAAA,OAAO,EAAE,OADkC;AAE3CC,IAAAA,IAAI,EAAE;AACFC,MAAAA,IAAI,EAAE,gCADJ;AAEFC,MAAAA,IAAI,EAAE;AAFJ;AAFqC,GAA3B,CAAlB,CAN+B,CAe/B;;AACA,MAAIC,IAAI,GAAG,MAAMN,WAAW,CAACO,QAAZ,CAAqB;AACpCC,IAAAA,EAAE,EAAE,wBADgC;AACN;AAC9BC,IAAAA,OAAO,EAAE,SAF2B;AAEhB;AACpBC,IAAAA,IAAI,EAAE,cAH8B;AAGd;AACtBC,IAAAA,IAAI,EAAE,qBAJ8B,CAIR;;AAJQ,GAArB,CAAjB;AAOAhB,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCU,IAAI,CAACM,SAArC,EAvB+B,CAwB/B;AAEA;;AACAjB,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BX,UAAU,CAAC4B,iBAAX,CAA6BP,IAA7B,CAA/B,EA3B+B,CA4B/B;AACD","sourcesContent":["import {Connection} from './connectionApi'\nconst nodemailer = require(\"nodemailer\");\n\nexport  async function login (data)\n{\nconst db =Connection()\nconst res = await db.collection('user').findOne({password :data.password,user_email :data.user_email })\nconsole.log(\"Found docs\",res)\nreturn res\n}\n\n\n\n// async..await is not allowed in global scope, must use a wrapper\nexport async function sendmail() {\n  // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  let testAccount = await nodemailer.createTestAccount();\n\n  // create reusable transporter object using the default SMTP transport\n  let transporter = nodemailer.createTransport({\n    service: \"Gmail\",\n    auth: {\n        user: \"arjunsinghrawatmca18@gmail.com\",\n        pass: \"09007801\"\n    }\n    \n  });\n\n  // send mail with defined transport object\n  let info = await transporter.sendMail({\n    to: \"rawat4arjuna@gmail.com\", // list of receivers\n    subject: \"Hello ✔\", // Subject line\n    text: \"Hello world?\", // plain text body\n    html: \"<b>Hello world?</b>\" // html body\n  });\n\n  console.log(\"Message sent: %s\", info.messageId);\n  // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n\n  // Preview only available when sending through an Ethereal account\n  console.log(\"Preview URL: %s\", nodemailer.getTestMessageUrl(info));\n  // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...\n}\n"]},"metadata":{},"sourceType":"module"}